(window.webpackJsonp=window.webpackJsonp||[]).push([[267,272,273,274,275],{0:function(w,b,i){"use strict";i.d(b,"b",function(){return p}),i.d(b,"a",function(){return v});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(t,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},d(t,e)};function P(t,e){d(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)};function S(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n}function p(t,e,n,o){var a=arguments.length,r=a<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,o);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(r=(a<3?c(r):a>3?c(e,n,r):c(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r}function _(t,e){return function(n,o){e(n,o,t)}}function O(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v(t,e,n,o){return new(n||(n=Promise))(function(a,r){function c(u){try{C(o.next(u))}catch(k){r(k)}}function f(u){try{C(o.throw(u))}catch(k){r(k)}}function C(u){u.done?a(u.value):new n(function(k){k(u.value)}).then(c,f)}C((o=o.apply(t,e||[])).next())})}function x(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,a,r,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(k){return C([u,k])}}function C(u){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,a&&(r=u[0]&2?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(k){u=[6,k],a=0}finally{o=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function R(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function j(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),a,r=[],c;try{for(;(e===void 0||e-- >0)&&!(a=o.next()).done;)r.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return r}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t}function E(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var o=Array(t),a=0,e=0;e<n;e++)for(var r=arguments[e],c=0,f=r.length;c<f;c++,a++)o[a]=r[c];return o}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),a,r=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(T){o[T]&&(a[T]=function(I){return new Promise(function(W,A){r.push([T,I,W,A])>1||f(T,I)})})}function f(T,I){try{C(o[T](I))}catch(W){U(r[0][3],W)}}function C(T){T.value instanceof L?Promise.resolve(T.value.v).then(u,k):U(r[0][2],T)}function u(T){f("next",T)}function k(T){f("throw",T)}function U(T,I){T(I),r.shift(),r.length&&f(r[0][0],r[0][1])}}function M(t){var e,n;return e={},o("next"),o("throw",function(a){throw a}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(a,r){e[a]=t[a]?function(c){return(n=!n)?{value:L(t[a](c)),done:a==="return"}:r?r(c):c}:r}}function B(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof h=="function"?h(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=t[r]&&function(c){return new Promise(function(f,C){c=t[r](c),a(f,C,c.done,c.value)})}}function a(r,c,f,C){Promise.resolve(C).then(function(u){r({value:u,done:f})},c)}}function s(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function m(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}},11:function(w,b,i){"use strict";w.exports=function(l){var S=[];return S.toString=function(){return this.map(function(_){var O=d(_,l);return _[2]?"@media ".concat(_[2],"{").concat(O,"}"):O}).join("")},S.i=function(p,_){typeof p=="string"&&(p=[[null,p,""]]);for(var O={},v=0;v<this.length;v++){var x=this[v][0];x!=null&&(O[x]=!0)}for(var R=0;R<p.length;R++){var h=p[R];(h[0]==null||!O[h[0]])&&(_&&!h[2]?h[2]=_:_&&(h[2]="(".concat(h[2],") and (").concat(_,")")),S.push(h))}},S};function d(l,S){var p=l[1]||"",_=l[3];if(!_)return p;if(S&&typeof btoa=="function"){var O=P(_),v=_.sources.map(function(x){return"/*# sourceURL=".concat(_.sourceRoot).concat(x," */")});return[p].concat(v).concat([O]).join(`
`)}return[p].join(`
`)}function P(l){var S=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S);return"/*# ".concat(p," */")}},12:function(w,b,i){"use strict";i.r(b),i.d(b,"default",function(){return j});function d(s,m){for(var g=[],t={},e=0;e<m.length;e++){var n=m[e],o=n[0],a=n[1],r=n[2],c=n[3],f={id:s+":"+e,css:a,media:r,sourceMap:c};t[o]?t[o].parts.push(f):g.push(t[o]={id:o,parts:[f]})}return g}var P=typeof document!="undefined";if(typeof DEBUG!="undefined"&&DEBUG&&!P)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},S=P&&(document.head||document.getElementsByTagName("head")[0]),p=null,_=0,O=!1,v=function(){},x=null,R="data-vue-ssr-id",h=typeof navigator!="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function j(s,m,g,t){O=g,x=t||{};var e=d(s,m);return D(e),function(o){for(var a=[],r=0;r<e.length;r++){var c=e[r],f=l[c.id];f.refs--,a.push(f)}o?(e=d(s,o),D(e)):e=[];for(var r=0;r<a.length;r++){var f=a[r];if(f.refs===0){for(var C=0;C<f.parts.length;C++)f.parts[C]();delete l[f.id]}}}}function D(s){for(var m=0;m<s.length;m++){var g=s[m],t=l[g.id];if(t){t.refs++;for(var e=0;e<t.parts.length;e++)t.parts[e](g.parts[e]);for(;e<g.parts.length;e++)t.parts.push(L(g.parts[e]));t.parts.length>g.parts.length&&(t.parts.length=g.parts.length)}else{for(var n=[],e=0;e<g.parts.length;e++)n.push(L(g.parts[e]));l[g.id]={id:g.id,refs:1,parts:n}}}}function E(){var s=document.createElement("style");return s.type="text/css",S.appendChild(s),s}function L(s){var m,g,t=document.querySelector("style["+R+'~="'+s.id+'"]');if(t){if(O)return v;t.parentNode.removeChild(t)}if(h){var e=_++;t=p||(p=E()),m=M.bind(null,t,e,!1),g=M.bind(null,t,e,!0)}else t=E(),m=B.bind(null,t),g=function(){t.parentNode.removeChild(t)};return m(s),function(o){if(o){if(o.css===s.css&&o.media===s.media&&o.sourceMap===s.sourceMap)return;m(s=o)}else g()}}var y=function(){var s=[];return function(m,g){return s[m]=g,s.filter(Boolean).join(`
`)}}();function M(s,m,g,t){var e=g?"":t.css;if(s.styleSheet)s.styleSheet.cssText=y(m,e);else{var n=document.createTextNode(e),o=s.childNodes;o[m]&&s.removeChild(o[m]),o.length?s.insertBefore(n,o[m]):s.appendChild(n)}}function B(s,m){var g=m.css,t=m.media,e=m.sourceMap;if(t&&s.setAttribute("media",t),x.ssrId&&s.setAttribute(R,m.id),e&&(g+=`
/*# sourceURL=`+e.sources[0]+" */",g+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),s.styleSheet)s.styleSheet.cssText=g;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(g))}}},1339:function(w,b,i){var d=i(2571);typeof d=="string"&&(d=[[w.i,d,""]]),d.locals&&(w.exports=d.locals);var P=i(12).default,l=P("47e4ef75",d,!1,{})},2570:function(w,b,i){"use strict";var d=i(1339),P=i.n(d),l=P.a},2571:function(w,b,i){b=w.exports=i(11)(!1),b.push([w.i,`@use 'sass:map';.no-scroll[data-v-76283480]{position:relative;z-index:100;overflow:hidden}.streak-button-container[data-v-76283480]{min-width:54px}
`,""])},31:function(w,b,i){"use strict";i.d(b,"d",function(){return d}),i.d(b,"b",function(){return P}),i.d(b,"c",function(){return l}),i.d(b,"a",function(){return p});function d(_){return Object.entries(_).map(([O,v])=>`${O}=${v.toString()}`).join("&")}function P(_,O){const[v,x]=_.split("#"),R=v.includes("?")?"&":"?",h=x?`#${x}`:"";return`${v}${R}${d(O)}${h}`}function l(_=window.location.search){const O=_.replace("?","").split("&"),v={};return O.forEach(x=>{if(x.length>0){const[R,h]=x.split("=");v[R]=h}}),v}const S="fromClassroomId=";function p(_,O){return O?`${_}?${S}${encodeURIComponent(O)}`:_}},331:function(w,b,i){"use strict";i.d(b,"a",function(){return P});var d=i(65);function P(){let l="";return typeof document!="undefined"?document.cookie.split(";").forEach(S=>{S.indexOf("csrftoken")>=0&&(l=S.split("=")[1].trim())}):l=Object(d.a)().backend.server_side_rendering_data.cookies.csrftoken,l}},65:function(w,b,i){"use strict";i.d(b,"a",function(){return P});let d=null;function P(){return d}function l(S){d=S}},659:function(w,b,i){"use strict";i.r(b);var d=function(){var y=this,M=y.$createElement,B=y._self._c||M;return B("div",{staticClass:"streak-button-container",on:{click:function(s){return s.stopPropagation(),y.showPopup(s)}}},[B("StreakButton",{attrs:{"current-streak":y.buttonData.current_streak_length,"problems-solved-in-current-streak":y.buttonData.problems_attempted_today,"is-mobile":y.isMobile,"popup-visible":y.streakPopupVisible,"calendar-days":y.buttonData.calendar,"notification-type":y.streakPopupNotificationType,"problems-required-per-day":y.buttonData.problems_required_today},on:{"should-close":y.closePopup}})],1)},P=[];d._withStripped=!0;var l=i(0),S=i(2),p=i(1),_=i(204),O=i(8);let v=class extends S.default{constructor(){super(...arguments);this.streakPopupVisible=!1,this.streakPopupNotificationType="none",this.buttonData={current_streak_length:this.currentStreak,problems_required_today:this.problemsRequiredToday,calendar:[],problems_attempted_today:this.problemsAttemptedToday,problems_attempted_total:0,can_increase_streak:!0,can_show_streak_animation:this.canShowStreakAnimation},this.receivedInitialData=!1}mounted(){this.updateStreaks(),window.addEventListener("updatestreaks",this.updateStreaks)}destroyed(){window.removeEventListener("updatestreaks",this.updateStreaks)}updateStreaks(){return Object(l.a)(this,void 0,void 0,function*(){const M=yield Object(O.b)("/api/v1/profile_card/streak/");this.receivedInitialData=!0,this.buttonData=M})}buttonDataChanged(M,B){let s="none";M&&B&&(this.receivedInitialData&&M.current_streak_length>B.current_streak_length&&(s="newstreak"),M.problems_attempted_total===1&&M.problems_attempted_today>B.problems_attempted_today&&(s="newuser")),s!=="none"&&(this.streakPopupNotificationType=s,this.streakPopupVisible=!0)}showPopup(){this.streakPopupVisible=!0}closePopup(){this.streakPopupVisible=!1,this.streakPopupNotificationType="none"}};Object(l.b)([Object(p.d)(Boolean)],v.prototype,"isMobile",void 0),Object(l.b)([Object(p.d)(Number)],v.prototype,"currentStreak",void 0),Object(l.b)([Object(p.d)(Number)],v.prototype,"problemsRequiredToday",void 0),Object(l.b)([Object(p.d)(Number)],v.prototype,"problemsAttemptedToday",void 0),Object(l.b)([Object(p.d)(Number)],v.prototype,"problemsAttemptedTotal",void 0),Object(l.b)([Object(p.d)(Boolean)],v.prototype,"canShowStreakAnimation",void 0),Object(l.b)([Object(p.g)("buttonData")],v.prototype,"buttonDataChanged",null),v=Object(l.b)([Object(p.a)({components:{StreakButton:_.default}})],v);var x=v,R=x,h=i(2570),j=i(3),D=Object(j.a)(R,d,P,!1,null,"76283480",null);if(!1)var E;D.options.__file="frontend/components/StreakButtonLegacyWrapper.vue";var L=b.default=D.exports},8:function(w,b,i){"use strict";i.d(b,"a",function(){return O}),i.d(b,"c",function(){return v}),i.d(b,"b",function(){return x});var d=i(156),P=i.n(d),l=i(331),S=i(31),p=i(65);const _=()=>({"X-CSRFToken":Object(l.a)(),"X-Requested-With":"XMLHttpRequest"});function O(h=""){const j={method:"GET",headers:_()};return P.a.get(h,j).then(D=>D.data).catch(D=>{throw console.log(D),D})}function v(h="",j={}){const D={method:"POST",headers:_()};return P.a.post(h,j,D).then(E=>E.data).catch(E=>{throw console.log(E),E})}function x(h){let j=Object(S.b)(h,{ajax:!0});const D=h.startsWith("http://")||h.startsWith("https://"),E=Object(p.a)(),L={"X-Requested-With":"XMLHttpRequest"};return E!=null&&!D&&(L.Cookie=R(E.backend.server_side_rendering_data.cookies),j=E.backend.response.base_url+h),j=j.split("#")[0],P.a.get(j,{headers:L}).then(y=>y.data.redirect_to?(window.location=y.data.redirect_to,{}):y.headers["content-type"].includes("text/html")&&j!==y.request.responseURL?(window.location=y.request.responseURL,{}):y.data.response&&j!==y.data.response.request_path?Object.assign(Object.assign({},y.data),{$redirected:{to:y.data.response.request_path,from:j}}):y.data).catch(y=>{throw console.log(y),y})}function R(h){return Object.keys(h).map(j=>`${j}=${h[j]}`).join("; ")}}}]);

//# sourceMappingURL=267.7228214d1087bc847a07.js.map